{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{useCompanies}from'../hooks/useCompanies';import{useReviews}from'../hooks/useReviews';import'./CompanySidebar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CompanySidebar=()=>{const[activeTab,setActiveTab]=useState('new');const{companies}=useCompanies();const{reviews}=useReviews();// Сортируем компании по дате для \"новых\"\nconst newCompanies=companies.sort((a,b)=>new Date(b.date.split('.').reverse().join('-'))-new Date(a.date.split('.').reverse().join('-'))).slice(0,8);// Сортируем компании случайно для \"популярных\" \nconst popularCompanies=[...companies].sort(()=>Math.random()-0.5).slice(0,8);const displayedCompanies=activeTab==='new'?newCompanies:popularCompanies;return/*#__PURE__*/_jsxs(\"aside\",{className:\"company-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:`tab-btn ${activeTab==='new'?'active':''}`,onClick:()=>setActiveTab('new'),children:\"\\u041D\\u043E\\u0432\\u044B\\u0435 \\u043E\\u0442\\u0437\\u044B\\u0432\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{className:`tab-btn ${activeTab==='popular'?'active':''}`,onClick:()=>setActiveTab('popular'),children:\"\\u041F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u044B\\u0435 \\u043E\\u0442\\u0437\\u044B\\u0432\\u044B\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-content\",children:displayedCompanies.map(company=>/*#__PURE__*/_jsxs(Link,{to:`/company/${company.slug}`,className:\"sidebar-company-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-company-logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:company.logoImage,alt:`${company.name} логотип`,className:\"sidebar-logo-img\",onError:e=>{e.target.style.display='none';e.target.nextElementSibling.style.display='block';}}),/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-logo-text\",style:{display:'none'},children:company.logo})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-company-info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"sidebar-company-name\",children:company.name}),/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-company-date\",children:company.date}),/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-company-category\",children:company.category})]})]},company.id))})]});};export default CompanySidebar;","map":{"version":3,"names":["React","useState","Link","useCompanies","useReviews","jsx","_jsx","jsxs","_jsxs","CompanySidebar","activeTab","setActiveTab","companies","reviews","newCompanies","sort","a","b","Date","date","split","reverse","join","slice","popularCompanies","Math","random","displayedCompanies","className","children","onClick","map","company","to","slug","src","logoImage","alt","name","onError","e","target","style","display","nextElementSibling","logo","category","id"],"sources":["/home/reqviem/workiWorki/site-reviews/src/components/CompanySidebar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useCompanies } from '../hooks/useCompanies';\nimport { useReviews } from '../hooks/useReviews';\nimport './CompanySidebar.css';\n\nconst CompanySidebar = () => {\n  const [activeTab, setActiveTab] = useState('new');\n  const { companies } = useCompanies();\n  const { reviews } = useReviews();\n\n  // Сортируем компании по дате для \"новых\"\n  const newCompanies = companies\n    .sort((a, b) => new Date(b.date.split('.').reverse().join('-')) - new Date(a.date.split('.').reverse().join('-')))\n    .slice(0, 8);\n\n  // Сортируем компании случайно для \"популярных\" \n  const popularCompanies = [...companies]\n    .sort(() => Math.random() - 0.5)\n    .slice(0, 8);\n\n  const displayedCompanies = activeTab === 'new' ? newCompanies : popularCompanies;\n\n  return (\n    <aside className=\"company-sidebar\">\n      <div className=\"sidebar-tabs\">\n        <button \n          className={`tab-btn ${activeTab === 'new' ? 'active' : ''}`}\n          onClick={() => setActiveTab('new')}\n        >\n          Новые отзывы\n        </button>\n        <button \n          className={`tab-btn ${activeTab === 'popular' ? 'active' : ''}`}\n          onClick={() => setActiveTab('popular')}\n        >\n          Популярные отзывы\n        </button>\n      </div>\n\n      <div className=\"sidebar-content\">\n        {displayedCompanies.map((company) => (\n          <Link \n            key={company.id} \n            to={`/company/${company.slug}`} \n            className=\"sidebar-company-card\"\n          >\n            <div className=\"sidebar-company-logo\">\n              <img \n                src={company.logoImage} \n                alt={`${company.name} логотип`}\n                className=\"sidebar-logo-img\"\n                onError={(e) => {\n                  e.target.style.display = 'none';\n                  e.target.nextElementSibling.style.display = 'block';\n                }}\n              />\n              <span className=\"sidebar-logo-text\" style={{display: 'none'}}>{company.logo}</span>\n            </div>\n            <div className=\"sidebar-company-info\">\n              <h4 className=\"sidebar-company-name\">{company.name}</h4>\n              <span className=\"sidebar-company-date\">{company.date}</span>\n              <span className=\"sidebar-company-category\">{company.category}</span>\n            </div>\n          </Link>\n        ))}\n      </div>\n    </aside>\n  );\n};\n\nexport default CompanySidebar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}