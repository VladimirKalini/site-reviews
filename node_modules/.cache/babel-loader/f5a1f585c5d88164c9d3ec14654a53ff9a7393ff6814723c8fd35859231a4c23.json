{"ast":null,"code":"import React from'react';import{useReviews}from'../hooks/useReviews';import'./ReviewsBlock.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewsBlock=()=>{const{reviews,loading,error,loadMoreReviews}=useReviews();if(loading){return/*#__PURE__*/_jsx(\"section\",{className:\"reviews-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432...\"})})});}if(error){return/*#__PURE__*/_jsx(\"section\",{className:\"reviews-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error})})});}const reviewsList=[...reviews];return/*#__PURE__*/_jsx(\"section\",{className:\"reviews-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"\\u041D\\u043E\\u0432\\u044B\\u0435 \\u043E\\u0442\\u0437\\u044B\\u0432\\u044B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews-grid\",children:reviewsList.map(review=>/*#__PURE__*/_jsxs(\"div\",{className:\"review-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"review-header\",children:/*#__PURE__*/_jsx(\"span\",{className:\"review-date\",children:review.date})}),/*#__PURE__*/_jsx(\"h3\",{className:\"review-title\",children:review.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-content\",children:[review.hasImage&&/*#__PURE__*/_jsx(\"div\",{className:\"review-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:review.logoImage,alt:`${review.company} логотип`,className:\"review-logo-image\",onError:e=>{// Fallback к тексту при ошибке загрузки\ne.target.style.display='none';e.target.parentElement.innerHTML=review.logo;}})}),/*#__PURE__*/_jsx(\"p\",{className:\"review-text\",children:review.text})]})]},review.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"show-more\",children:/*#__PURE__*/_jsx(\"button\",{className:\"show-more-btn\",onClick:loadMoreReviews,children:\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0435\\u0449\\u0435\"})})]})});};export default ReviewsBlock;","map":{"version":3,"names":["React","useReviews","jsx","_jsx","jsxs","_jsxs","ReviewsBlock","reviews","loading","error","loadMoreReviews","className","children","reviewsList","map","review","date","title","hasImage","src","logoImage","alt","company","onError","e","target","style","display","parentElement","innerHTML","logo","text","id","onClick"],"sources":["/home/reqviem/workiWorki/site-reviews/src/components/ReviewsBlock.js"],"sourcesContent":["import React from 'react';\nimport { useReviews } from '../hooks/useReviews';\nimport './ReviewsBlock.css';\n\nconst ReviewsBlock = () => {\n  const { reviews, loading, error, loadMoreReviews } = useReviews();\n\n  if (loading) {\n    return (\n      <section className=\"reviews-section\">\n        <div className=\"container\">\n          <div className=\"loading\">Загрузка отзывов...</div>\n        </div>\n      </section>\n    );\n  }\n\n  if (error) {\n    return (\n      <section className=\"reviews-section\">\n        <div className=\"container\">\n          <div className=\"error\">{error}</div>\n        </div>\n      </section>\n    );\n  }\n\n  const reviewsList = [\n    ...reviews\n  ];\n\n  return (\n    <section className=\"reviews-section\">\n      <div className=\"container\">\n        <h2 className=\"section-title\">Новые отзывы</h2>\n        <div className=\"reviews-grid\">\n          {reviewsList.map((review) => (\n            <div key={review.id} className=\"review-card\">\n              <div className=\"review-header\">\n                <span className=\"review-date\">{review.date}</span>\n              </div>\n              <h3 className=\"review-title\">{review.title}</h3>\n              <div className=\"review-content\">\n                {review.hasImage && (\n                  <div className=\"review-logo\">\n                    <img \n                      src={review.logoImage} \n                      alt={`${review.company} логотип`}\n                      className=\"review-logo-image\"\n                      onError={(e) => {\n                        // Fallback к тексту при ошибке загрузки\n                        e.target.style.display = 'none';\n                        e.target.parentElement.innerHTML = review.logo;\n                      }}\n                    />\n                  </div>\n                )}\n                <p className=\"review-text\">{review.text}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"show-more\">\n          <button className=\"show-more-btn\" onClick={loadMoreReviews}>Показать еще</button>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default ReviewsBlock; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,qBAAqB,CAChD,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,OAAO,CAAEC,OAAO,CAAEC,KAAK,CAAEC,eAAgB,CAAC,CAAGT,UAAU,CAAC,CAAC,CAEjE,GAAIO,OAAO,CAAE,CACX,mBACEL,IAAA,YAASQ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAClCT,IAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBT,IAAA,QAAKQ,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,gGAAmB,CAAK,CAAC,CAC/C,CAAC,CACC,CAAC,CAEd,CAEA,GAAIH,KAAK,CAAE,CACT,mBACEN,IAAA,YAASQ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAClCT,IAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBT,IAAA,QAAKQ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEH,KAAK,CAAM,CAAC,CACjC,CAAC,CACC,CAAC,CAEd,CAEA,KAAM,CAAAI,WAAW,CAAG,CAClB,GAAGN,OAAO,CACX,CAED,mBACEJ,IAAA,YAASQ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAClCP,KAAA,QAAKM,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBT,IAAA,OAAIQ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,qEAAY,CAAI,CAAC,cAC/CT,IAAA,QAAKQ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BC,WAAW,CAACC,GAAG,CAAEC,MAAM,eACtBV,KAAA,QAAqBM,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1CT,IAAA,QAAKQ,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BT,IAAA,SAAMQ,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEG,MAAM,CAACC,IAAI,CAAO,CAAC,CAC/C,CAAC,cACNb,IAAA,OAAIQ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEG,MAAM,CAACE,KAAK,CAAK,CAAC,cAChDZ,KAAA,QAAKM,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5BG,MAAM,CAACG,QAAQ,eACdf,IAAA,QAAKQ,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BT,IAAA,QACEgB,GAAG,CAAEJ,MAAM,CAACK,SAAU,CACtBC,GAAG,CAAE,GAAGN,MAAM,CAACO,OAAO,UAAW,CACjCX,SAAS,CAAC,mBAAmB,CAC7BY,OAAO,CAAGC,CAAC,EAAK,CACd;AACAA,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/BH,CAAC,CAACC,MAAM,CAACG,aAAa,CAACC,SAAS,CAAGd,MAAM,CAACe,IAAI,CAChD,CAAE,CACH,CAAC,CACC,CACN,cACD3B,IAAA,MAAGQ,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEG,MAAM,CAACgB,IAAI,CAAI,CAAC,EACzC,CAAC,GArBEhB,MAAM,CAACiB,EAsBZ,CACN,CAAC,CACC,CAAC,cACN7B,IAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBT,IAAA,WAAQQ,SAAS,CAAC,eAAe,CAACsB,OAAO,CAAEvB,eAAgB,CAAAE,QAAA,CAAC,qEAAY,CAAQ,CAAC,CAC9E,CAAC,EACH,CAAC,CACC,CAAC,CAEd,CAAC,CAED,cAAe,CAAAN,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}